
$CLOCK_FONT = Inter Variable
$FONT = Inter Variable
$MONOSPACE_FONT = CaskaydiaCove Nerd Font Propo

animations {
  animation = fade, 3
}

background {
  path = $BACKGROUND_PATH
  color = $primary_container
  blur_passes = 0
  blur_size = 0
}

# Dims background with a semi-transparent shape to keep background unblurred
shape {
  size = 100%, 100%
  color = rgba(0, 0, 0, 0.4)
  zindex = 0
}

# --- Screen Borders & Outlines --- #

shape {
  size = 100%, 8
  color = $surface
  halign = center
  valign = top
  zindex = 1
}

shape {
  size = 100%, 8
  color = $surface
  halign = center
  valign = bottom
  zindex = 1
}

shape {
  size = 8, 100%
  color = $surface
  halign = left
  valign = center
  zindex = 1
}

shape {
  size = 8, 100%
  color = $surface
  halign = right
  valign = center
  zindex = 1
}

shape {
  size = 100%, 10
  color = $on_primary_fixed_variant
  halign = center
  valign = top
  zindex = 0
}

shape {
  size = 100%, 10
  color = $on_primary_fixed_variant
  halign = center
  valign = bottom
  zindex = 0
}

shape {
  size = 10, 100%
  color = $on_primary_fixed_variant
  halign = left
  valign = center
  zindex = 0
}

shape {
  size = 10, 100%
  color = $on_primary_fixed_variant
  halign = right
  valign = center
  zindex = 0
}

# --- Clock --- #

label {
  color = $primary_fixed_dim
  shadow_passes = 1
  shadow_size = 2
  shadow_color = $shadow
  shadow_boost = 1.2
  text = cmd[update:1000] echo "<span font_features='tnum'>$(date +%H)</span><span foreground='##bbbbbb'>:</span><span font_features='tnum' fgcolor='$secondary_fixed_dim_hex'>$(date +%M)</span>"
  font_size = 96
  font_family = $CLOCK_FONT ExtraBold
  halign = left
  valign = top
  position = 40, -20
  zindex = 2
}

label {
  color = $secondary_fixed_dim
  shadow_passes = 1
  shadow_size = 2
  shadow_color = $shadow
  shadow_boost = 1.0
  text = cmd[update:1000] date +%B
  font_size = 24
  font_family = $CLOCK_FONT Bold
  halign = left
  valign = top
  position = 450, -45
  zindex = 2
}

label {
  color = $primary_fixed_dim
  shadow_passes = 1
  shadow_size = 2
  shadow_color = $shadow
  shadow_boost = 1.0
  text = cmd[update:1000] echo "<span font_features='tnum'>$(date +%0d)</span>"
  font_size = 24
  font_family = $CLOCK_FONT ExtraBold
  halign = left
  valign = top
  position = 450, -80
  zindex = 2
}

label {
  color = $secondary_fixed_dim
  shadow_passes = 1
  shadow_size = 2
  shadow_color = $shadow
  shadow_boost = 1.0
  text = cmd[update:1000] date +%A
  font_size = 18
  font_family = $CLOCK_FONT Medium
  halign = left
  valign = top
  position = 450, -115
  zindex = 2
}

# --- Clock seperator --- #

shape {
  size = 3, 100
  color = $secondary_fixed_dim
  shadow_passes = 1
  shadow_size = 2
  shadow_color = $shadow
  shadow_boost = 1.2
  halign = left
  valign = top
  position = 425, -48
  zindex = 2
}

# --- User image --- #

image {
  shadow_passes = 1
  shadow_size = 4
  shadow_color = $shadow
  shadow_boost = 1.0
  path = $PROFILE_IMAGE
  reload_cmd = $SCRIPTS_PATH/user-picture.sh
  reload_time = 1
  border_size = 0
  border_color = $primary
  size = 150
  halign = right
  valign = bottom
  position = -40, 40
  rounding = -1
  zindex = 2
}

# --- User seperator --- #

shape {
  size = 3, 135
  color = $secondary_fixed_dim
  shadow_passes = 1
  shadow_size = 2
  shadow_color = $shadow
  shadow_boost = 1.2
  halign = right
  valign = bottom
  position = -215, 45
  zindex = 2
}

# --- User label --- #

label {
  color = $primary_fixed_dim
  shadow_passes = 1
  shadow_size = 2
  shadow_color = $shadow
  shadow_boost = 1.0
  text = $USER 
  text_align = right
  font_size = 24
  font_family = $FONT Bold
  halign = right
  valign = bottom
  position = -240, 140
  zindex = 2
}

# --- Input field --- #

input-field {
  size = 300, 40
  outline_thickness = 2
  dots_size = 0.2 # Scale of input-field height, 0.2 - 0.8
  dots_spacing = 0.4 # Scale of dots' absolute size, 0.0 - 1.0
  dots_center = false
  dots_rounding = -1 # -1 default circle, -2 follow input-field rounding
  outer_color = $outline
  inner_color = $surface_container
  font_color = $primary
  font_family = $FONT
  fade_on_empty = false
  fade_timeout = 2000
  placeholder_text = Enter Password... # Text rendered in the input box when it's empty.
  hide_input = false
  rounding = 4 # -1 means complete rounding (circle/oval)
  check_color = $primary
  fail_color = $error # if authentication failed, changes outer_color and fail message color
  fail_text = $FAIL <b>($ATTEMPTS)</b> # can be set to empty
  fail_transition = 300 # transition time in ms between normal outer_color and fail_color
  capslock_color = $tertiary
  numlock_color = $outline
  bothlock_color = -1 # when both locks are active. -1 means don't change outer color (same for above)
  invert_numlock = false # change color if numlock is off
  swap_font_color = false # see below
  position = -240, 90
  halign = right
  valign = bottom
  shadow_passes = 1
  shadow_size = 4
  shadow_color = $shadow
  shadow_boost = 0.5
  zindex = 2
}

# --- Power buttons --- #

label {
  text = 󰐥
  color = $error_fixed_dim
  shadow_passes = 1
  shadow_size = 1
  shadow_color = $shadow
  shadow_boost = 1.0
  font_size = 20
  font_family = $MONOSPACE_FONT
  position = -240, 45
  halign = right
  valign = bottom
  zindex = 2
  onclick = systemctl poweroff
}

label {
  text = 󰍃
  color = $secondary_fixed
  shadow_passes = 1
  shadow_size = 1
  shadow_color = $shadow
  shadow_boost = 1.0
  font_size = 20
  font_family = $MONOSPACE_FONT
  position = -280, 45
  halign = right
  valign = bottom
  zindex = 2
  onclick = niri msg action quit -s
}

label {
  text = 󰤄
  color = $tertiary_fixed
  shadow_passes = 1
  shadow_size = 1
  shadow_color = $shadow
  shadow_boost = 1.0
  font_size = 20
  font_family = $MONOSPACE_FONT
  position = -325, 45
  halign = right
  valign = bottom
  zindex = 2
  onclick = systemctl suspend
}

# --- Layout indicator --- #

label {
  color = $secondary_fixed
  shadow_passes = 1
  shadow_size = 1
  shadow_color = $shadow
  shadow_boost = 1.0
  text = $LAYOUT
  text_align = right
  font_size = 12
  font_family = $FONT
  position = -370, 50
  halign = right
  valign = bottom
  zindex = 2
  onclick = niri msg action switch-layout next
}

# --- Media label --- #

label {
  color = $secondary_fixed
  shadow_passes = 1
  shadow_size = 1
  shadow_color = $shadow
  shadow_boost = 1.0
  text = cmd[update:1000:1] [[ "$(playerctl status)" && "$(playerctl status)" != "Stopped" ]] && $SCRIPTS_PATH/truncate.sh "$(playerctl metadata xesam:title)" 50
  text_align = left
  font_size = 12
  font_family = $FONT
  position = 120, 40
  halign = left
  valign = bottom
  zindex = 2
  onclick = playerctl play-pause && pkill -USR2 hyprlock
}

# -- Media control buttons --- #

label {
  text = cmd[update:1000:1] [[ "$(playerctl status)" && "$(playerctl status)" != "Stopped" ]] && echo "󰼨"
  color = $secondary_fixed
  shadow_passes = 1
  shadow_size = 1
  shadow_color = $shadow
  shadow_boost = 1.0
  font_size = 16
  font_family = $MONOSPACE_FONT
  position = 40, 38
  halign = left
  valign = bottom
  zindex = 2
  onclick = playerctl previous && pkill -USR2 hyprlock
}

label {
  text = cmd[update:1000:1] if [ "$(playerctl status)" = "Playing" ]; then echo "󰏥"; elif [ "$(playerctl status)" = "Paused" ]; then echo "󰐍"; fi
  color = $primary_fixed_dim
  shadow_passes = 1
  shadow_size = 1
  shadow_color = $shadow
  shadow_boost = 1.2
  font_size = 22
  font_family = $MONOSPACE_FONT
  position = 59, 33
  halign = left
  valign = bottom
  zindex = 2
  onclick = playerctl play-pause && pkill -USR2 hyprlock
}

label {
  text = cmd[update:1000:1] [[ "$(playerctl status)" && "$(playerctl status)" != "Stopped" ]] && echo "󰼧"
  color = $secondary_fixed
  shadow_passes = 1
  shadow_size = 1
  shadow_color = $shadow
  shadow_boost = 1.0
  font_size = 16
  font_family = $MONOSPACE_FONT
  position = 91, 38
  halign = left
  valign = bottom
  zindex = 2
  onclick = playerctl next && pkill -USR2 hyprlock
}
